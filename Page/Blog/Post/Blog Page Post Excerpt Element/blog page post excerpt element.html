<!-- begin TWC Blog Page Post Excerpt Element -->

  <!--
  
    blog page post excerpt element
    
    License         : < https://tinyurl.com/s872fb68 >
    
    Version         : 0.2.0
    
    SS Version      : 7.1
    
    Dependencies    : Elements Manipulate
    
    Copyright       : 2024-2025 Thomas Creedon
                      
                      Tom's Web Consulting
                      
                      < http://www.tomsWeb.consulting/ >
    
    -->
    
  <style>
  
    .twc-blog-item-excerpt {
    
      order : 3;
      
      }
      
    @media screen and ( max-width : 767px ) {
    
      .blog-item-title {
      
        margin-bottom : calc( 1.2rem / 2 );
        
        }
        
      }
  
    @media screen and ( min-width : 768px ) {
    
      .blog-item-title {
      
        margin-bottom : calc( 2rem / 2 );
        
        }
        
      }
  
    </style>
    
  <script>
  
    ( ( ) => {
    
      const
      
        version = '0.2.0',
        
        s = `
        
          Blog Page Post Excerpt Element v${ version }
          
          License < https://tinyurl.com/s872fb68 >
          
          Â© 2024-2025 Thomas Creedon
          
          Tom's Web Consulting < http://www.tomsWeb.consulting >
          
          `
          
          .replace ( /^\s+/gm, '' );
          
      console.log ( s );
      
      // initialize twc module
      
      window.twc = ( ( self ) => self ) ( window.twc || { } );
      
      // initialize twc em sub-module
      
      twc.em = ( ( self ) => self ) ( twc.em || { } );
      
      // initialize twc em callbacks sub-module
      
      twc.em.callbacks = ( ( self ) => {
      
        const callback = ( element ) => {
        
          const isBlogPage = ( ( ) => {
          
            const
            
              selector = [
                  
                'body[ class~="collection-type-blog" ]',
                
                'body[ class*="collection-type-blog-" ]',
                
                ]
                
                .join ( ', ' ),
                
              is = Boolean (
              
                document
                
                  .querySelectorAll ( selector )
                  
                  .length
                  
                );
                
            return is;
            
            } ) ( );
            
          if ( ! isBlogPage ) return; // bail if not blog page
          
          const isDetail = ( ( ) => {
          
            const selector = 'body[ id^="item-" ]';
            
            const is = document
            
              .querySelector ( selector )
              
              !==
              
              null;
              
            return is;
            
            } ) ( );
            
          if ( ! isDetail ) return; // bail if not detail
          
          const content = element
          
            .getAttribute ( 'content' );
            
          element = document.createElement ( 'div' );
          
          element.insertAdjacentHTML (
          
            'beforeend',
            
            `
            
              <div class="twc-blog-item-excerpt">
              
                ${ content }
                
                </div>
                
                `
                
            );
            
          element = element.firstElementChild;
          
          return element;
          
          };
          
        self [ 'twcBlogPagePostExcerptElement' ] = callback;
        
        return self;
        
        } ) ( twc.em.callbacks || { } );
        
      } ) ( );
      
    </script>
    
  <!-- end TWC Blog Page Post Excerpt Element -->
