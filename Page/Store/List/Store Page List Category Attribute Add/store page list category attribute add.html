<!-- begin TWC Store Page List Category Attribute Add -->

  <script>
  
    ( ( ) => {
    
      /*
      
        store page list category attribute add
        
        License         : < https://tinyurl.com/s872fb68 >
        
        Version         : 0.2.0
        
        SS Versions     : 7.1, 7.0
        
        v7.1
        Products V2
        Compatible    : Yes
        
        v7.1 Fluid
        Engine
        Compatible      : Not Applicable
        
        v7.0 Templates  : Avenue
                          
                          Bedford
                          
                          Brine ( Aria, Blend, Burke, Cacao, Clay, Fairfield,
                          Feed, Foster, Greenwich, Hatch, Heights, Hunter, Hyde,
                          Impact, Jaunt, Juke, Keene, Kin, Lincoln, Maple, Margot,
                          Marta, Mentor, Mercer, Miller, Mojave, Moksha, Motto,
                          Nueva, Pedro, Pursuit, Rally, Rover, Royce, Sofia,
                          Sonora, Stella, Thorne, Vow, Wav, West )
                          
                          your template is not listed? then it is not currently
                          supported
        
        Copyright       : 2021-2025 Thomas Creedon
                          
                          Tom's Web Consulting
                          < http://www.tomsWeb.consulting/ >
        
        no user serviceable parts below
        
        */
        
      const callback = ( ) => {
      
        const
        
          version = '0.2.0',
          
          s = `Store Page List Category Attribute Add v${ version }
          
            License < https://tinyurl.com/s872fb68 >
            
            Â© 2021-2025 Thomas Creedon
            
            Tom's Web Consulting < http://www.tomsWeb.consulting >`
            
            .replace ( /^\s+/gm, '' );
            
        console.log ( s );
        
        const isStorePage = Static
        
          .SQUARESPACE_CONTEXT
          
          .collection
          
          .type
          
          ===
          
          13;
          
        if ( ! isStorePage ) return; // bail if not store page
        
        const category = ( ( ) => {
        
          const
          
            selector = [
            
              '.nested-category-title', // 7.1
              
              // 7.0
              
              '#categoryNav ul li.active-link:not(.all) a', // Avenue
              
              '.filter-by-category', // Bedford
              
              '.ProductList-filter-list-item--active', // Brine
              
              ]
              
              .join ( ', ' ),
              
            category = [
            
              ...
              
              document
              
                .body
                
                .querySelectorAll ( selector )
                
                ]
                
              [ 0 ]
              
              ?.textContent
              
              .trim ( );
              
          return category;
          
          } ) ( );
          
        if ( ! category ) return; // bail if no category
        
        const codeKey = 'twc-splcaa';
        
        document
        
          .body
          
          .setAttribute ( `data-${ codeKey }-store-category`, category );
          
        };
        
      document
       
        .addEventListener ( 'DOMContentLoaded', callback );
        
      } ) ( );
      
    </script>
    
  <!-- end TWC Store Page List Category Attribute Add -->
