/*!

  store page tags product mark add
  
  License         : < https://tinyurl.com/s872fb68 >
  
  Version         : 0.1.0
  
  SS Version      : 7.1
  
  Products V2
  Compatible      : Yes
  
  Fluid
  Engine
  Compatible      : Not Applicable
  
  Dependencies    : Page Tags Cache < https://tinyurl.com/4frfus4a >
  
  Note            : this code is comprised of a style and script tag. both are
                    needed for the full effect to work
  
  Copyright       : 2025 Thomas Creedon
                    
                    Tom's Web Consulting < http://www.tomsWeb.consulting/ >
  
  */
(()=>{const t="0.1.0",c=`Store Page Tags Product Mark Add v${t}\n    \n      License < https://tinyurl.com/s872fb68 >\n      \n      Â© 2025 Thomas Creedon\n      \n      Tom's Web Consulting < http://www.tomsWeb.consulting >`.replace(/^\s+/gm,"");console.log(c)})(),window.twc=window.twc||{},twc.ptc=twc.ptc||{},twc.ptc.callbacks=(t=>{const c=t=>{const c=t=>{const c=c=>{let r,o,i;switch(!0){case s:{r=`\n              \n                <div class="product-mark ${e} ${c.slice(4).replace(e,"").slice(1)}">\n                    \n                  ${a[c]}\n                  \n                  </div>\n                  \n                `,i=".product-list-item-link .product-list-item-meta .product-list-item-status";const n=t.querySelector(i),s=[...n.querySelectorAll(".product-mark")].slice(-1)[0];s?(t=s,o="afterend"):(t=n,r=`\n                  \n                    <div class="grid-meta-status" data-test="plp-grid-status">\n                    \n                      ${r}\n                      \n                      </div>\n                      \n                    `,o="afterbegin");break}case n:{r=`\n              \n                <span class="product-mark ${e} ${c.slice(4).replace(e,"").slice(1)}">\n                  \n                    ${a[c]}\n                    \n                  </span>\n                  \n                `,i=".product-meta .product-status";const n=t.querySelector(i);n?(t=n,o="beforeend"):(r=`\n                  \n                    <div class="product-status" data-animation-role="content">\n                    \n                      ${r}\n                      \n                      </div>\n                      \n                    `,o="afterend",i=".product-meta .product-scarcity",t=t.querySelector(i));break}}t.insertAdjacentHTML(o,r)};[...t.classList].filter(t=>t.startsWith(`tag-${e}-`)).forEach(c)},e="twc-sptpma",n=!!Static.SQUARESPACE_CONTEXT.item,s=!Static.SQUARESPACE_CONTEXT.item?.id,a={},r=[".product-list .product-list-item",".product-detail"].join(", ");t.forEach(t=>a[t.className]=t.name.replace(`${e} `,"")),document.body.querySelectorAll(r).forEach(c)};return t.push(c),t})(twc.ptc.callbacks||[]);