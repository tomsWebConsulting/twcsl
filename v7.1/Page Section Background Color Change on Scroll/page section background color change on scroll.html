<!--

  begin page section background color change on scroll
  
  License      : < https://tinyurl.com/s872fb68 >
  
  Version      : 0.1.3
  
  SS Version   : 7.1
  
  Fluid
  Engine
  Compatible   : Yes
  
  Dependencies : jQuery
  
  Notes        : the code is comprised of several tags. all are needed for the
                 effect to work
                 
                 effect does not change the footer
  
  By           : Thomas Creedon < http://www.tomsWeb.consulting/ >
  
  -->
  
  <style>
  
    body {
    
      --timing-function : linear;
      --delay : 0.5s;
      
       /* background color should match first page section color from
          sectionColors below */
          
      background-color : [ enter first page section color here between single quotes replacing square brackets ];
      
      }
      
    </style>
    
  <script>
  
    // initialize twc module
    
    window.twc = ( ( self ) => self ) ( window.twc || { } );
    
    twc.psbccos = ( ( self ) => { // initialize twc psbccos sub-module
    
      self
      
        .sectionColors = [
        
          /*
          
            the format of each line is a color. add a color for each page section,
            except for the sections in the footer
            
            following is an example line. copy the example line below and paste
            after the example line. remove '// ' at beginning of pasted line.
            repeat for as many sections there are on the page, except the footer.
            this has been done once initially
            
            */
            
          // '[ enter page section color here between single quotes replacing square brackets ]',
          
          '[ enter page section color here between single quotes replacing square brackets ]',
          
          ];
          
      return self;
      
      } ) ( twc.psbccos || { } );
      
    </script>
    
  <!-- do not change anything below, there be the borg here -->
  
  <style>
  
    body {
    
      -webkit-transition : background-color var( --delay ) var( --timing-function );
      -o-transition : background-color var( --delay ) var( --timing-function );
      transition : background-color var( --delay ) var( --timing-function );
      
      }
      
    /* begin unset all background colors making them transparent */
    
      #page .page-section .section-border {
      
        --siteBackgroundColor : transparent;
        
        }
        
      [data-header-style="dynamic"].header,
      [data-header-style="theme"].header,
      #page :not( .has-background ) .section-background,
      #page .page-section,
      #page [ data-section-theme="black-bold" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="black" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="bright-inverse" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="bright" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="dark-bold" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="dark" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="light-bold" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="light" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="white-bold" ]:not( .has-background ) .section-background,
      #page [ data-section-theme="white" ]:not( .has-background ) .section-background
      
        {
        
          background-color : unset;
          
          }
          
      /* end unset all background colors making them transparent */
      
    </style>
    
  <script>
  
    $( ( ) => {
    
      const
      
        title = 'Page Section Background Color Change on Scroll';
      
        version = '0.1.3',
      
        s = `
        
          ${ title } v${ version }
        
          License < https://tinyurl.com/s872fb68 >
          
          Â© 2021-2024 Thomas Creedon
          
          Tom's Web Consulting < http://www.tomsWeb.consulting >
          
          `
          
          .replace ( /^\s+/gm, '' );
          
      console.log ( s );
      
      const callback = function ( ) {
      
        const callback = function ( i ) {
        
          const
          
            b = ! (
            
              $( this )
              
                .position ( )
                
                .top
                
              <=
              
              $( window )
              
                .scrollTop ( )
                
              ),
              
            sectionColors = twc
            
              .psbccos
              
              .sectionColors;
              
          if ( b )
          
            return true;
            
          $( 'body' )
          
            .css ( 'background-color', sectionColors [ i ] );
            
          };
          
        const selector = '#page .page-section';
        
        $( selector ).each ( callback );
        
        }
        
      $( window ).scroll ( callback );
      
      } );
      
    </script>
    
  <!-- end page section background color change on scroll -->
