<!-- begin TWC Store Page Detail Price Force Mutation on Quantity Change -->

  <script>
  
    ( ( ) => {
    
      /*
      
        store page detail price force mutation on quantity change
        
        License       : < https://tinyurl.com/s872fb68 >
        
        Version       : 0.3.0
        
        SS Version    : 7.1
        
        Products V2
        Compatible    : Yes
        
        Fluid
        Engine
        Compatible    : Not Applicable
        
        Dependencies  : store page price change
                        < https://tinyurl.com/5az53zbz >
        
        Copyright     : 2021-2025 Thomas Creedon
                        
                        Tom's Web Consulting < http://www.tomsWeb.consulting/ >
        
        no user serviceable parts below
        
        */
        
      const callback = ( ) => {
      
        const
        
          title = 'Store Page Detail Price Force Mutation on Quantity Change',
          
          version = '0.3.0',
          
          s = `${ title } v${ version }
          
            License < https://tinyurl.com/s872fb68 >
            
            Â© 2021-2025 Thomas Creedon
            
            Tom's Web Consulting < http://www.tomsWeb.consulting >`
            
            .replace ( /^\s+/gm, '' );
            
        console.log ( s );
        
        const isStorePage = Static
        
          .SQUARESPACE_CONTEXT
          
          .collection
          
          .type
          
          ===
          
          13;
          
        if ( ! isStorePage ) return; // bail if not store page
        
        const isDetail = ( ( ) => {
        
          const selector = 'body[ id^="item-" ]';
          
          const is = document
          
            .querySelector ( selector )
            
            !==
            
            null;
            
          return is;
          
          } ) ( );
          
        if ( ! isDetail ) return; // bail if not detail
        
        const callback = ( event ) => {
        
          const selector = '.product-detail .product-meta .product-price';
          
          document
          
            .body
            
            .querySelectorAll ( selector )
            
            .forEach (
            
              e => e.setAttribute ( 'data-twc-sppc-mo', 'true' )
              
              );
              
          };
          
        document
        
          .body
          
          .querySelectorAll ( '.product-quantity-input' )
          
          .forEach (
          
            e => e.addEventListener ( 'change', callback )
            
            );
            
        };
        
      document
      
        .addEventListener ( 'DOMContentLoaded', callback );
        
      } ) ( );
      
    </script>
    
  <!-- end TWC Store Page Detail Price Force Mutation on Quantity Change -->
