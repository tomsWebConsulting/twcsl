(()=>{
/*!
  
    store page detail product dimensions
    
    License         : < https://tinyurl.com/s872fb68 >
    
    Version         : 0.8.0
    
    SS Version      : 7.1
    
    Products V2
    Compatible      : Yes
    
    Fluid
    Engine
    Compatible      : Not Applicable
    
    Notes           : this code is comprised of a style and script tag. both are
                      needed for the full effect to work
                      
                      the dimensions entered in the squarespace editor are
                      shipping dimensions, not physical dimensions. if you don't
                      need to use shipping dimensions for shipping you can use
                      it for physical dimensions
    
    Copyright       : 2022-2025 Thomas Creedon
                      
                      Tom's Web Consulting < http://www.tomsWeb.consulting/ >
    
    no user serviceable parts below
    
    */
const e="0.8.0",t=`\n    \n      Store Page Detail Product Dimensions v${e}\n      \n      License < https://tinyurl.com/s872fb68 >\n      \n      Â© 2022-2025 Thomas Creedon\n      \n      Tom's Web Consulting < http://www.tomsWeb.consulting >\n      \n      `.replace(/^\s+/gm,"");console.log(t);const n=()=>{const e=13===Static.SQUARESPACE_CONTEXT.collection?.type;if(!e)return;const t=!!Static.SQUARESPACE_CONTEXT.item;if(!t)return;const n="twc-spdpd",r=[".product-description",".sqs-block-html .sqs-block-content"].join(", ");triggerText=`[ ${n} ]`;let o=[...document.body.querySelectorAll(r)].filter(e=>e.textContent.includes(triggerText));if(!o.length)return;const c=1===Static.SQUARESPACE_CONTEXT.product.productType;if(!c)return;const i=(e,t,n,r,o)=>{const c=t[2],i=t[3];let a,s;switch(t[1]){case"h":case"l":case"w":a=n[u[t[1]]],s=r;break;case"k":case"p":a=n.weight,s=o}return a=l[s][i](a).toFixed(c),e=e.replaceAll(t[0],a),e},l={CENTIMETER:{Cm:e=>e,In:e=>e/2.54,Mm:e=>10*e},INCH:{Cm:e=>2.54*e,In:e=>e,Mm:e=>e/.03937},KILOGRAM:{Kg:e=>e,Lb:e=>.453592*e},POUND:{Kg:e=>2.20462*e,Lb:e=>e}},a=e=>{const t=[...T].every(e=>e.querySelector("select")?.value)||[...T].every(e=>[...e.querySelectorAll("input")].some(e=>e.checked));if(!t)return;const n=e=>{r[e.getAttribute("data-variant-option-name")]=e.querySelector(".variant-select-wrapper")?.getAttribute("data-selected-value")??e.querySelector("input:checked").getAttribute("value")};let r={};T.forEach(n),r=JSON.stringify(r),o.forEach(e=>e.classList.add(s)),[...o].filter(e=>e.dataset.attributes===r).forEach(e=>e.classList.remove(s))},s=`${n}--hide`,u={h:"height",l:"length",w:"width"},d="meta[ "+['itemprop = "description','name = "description','name = "twitter:description','property = "og:description'].join('" ], meta[ ')+'" ]',p=n.split("-").reduce((e,t)=>e?.[t],window),g=(e,t)=>{const n=document.createElement("template");n.innerHTML=t,e.replaceWith(n.content)},m=e=>{const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);for(;t.nextNode();){const e=t.currentNode,n=e.textContent.includes(triggerText);n&&g(e,f)}},h='script[ type = "application/ld+json" ]',S=(e,t)=>{const r=e.shippingSize,o=e.shippingWeight,c=e.sku,l=twc.sppd.inventory?.[c]??{height:r.height,length:r.len,weight:o.value,width:r.width},a=Object.values(l).some(Boolean);if(!a)return;const u=JSON.stringify(e.attributes),d=t.length>1?` ${s}`:"",g=[...p.format.matchAll(/%([hklpw])(\d)(Cm|In|Kg|Lb|Mm)/g)],m=r.unit,h=o.unit,S=g.reduce((e,t)=>i(e,t,l,m,h),p.format);f+=`\n        \n          <span class="${n}${d}" data-attributes='${u}'>\n            \n            ${S}\n            \n            </span>\n            \n          `.trim()},y=Static.SQUARESPACE_CONTEXT.product.variants,E=document.body.querySelector("#main-product-variants"),A=(E?.querySelector(".variant-radiobtn-wrapper"),E?.querySelector(".variant-select-wrapper")),b=A&&!A?.querySelector(".unselected-option-value"),T=E?.querySelectorAll(".variant-option");let f="";y.forEach(e=>S(e,y)),b&&(f=f.replace(` ${s}`,"")),o.forEach(m),o=document.body.querySelectorAll(`.${n}`),document.body.querySelector("#main-product-variants")?.addEventListener("change",a),[...document.head.querySelectorAll(d)].filter(e=>e.getAttribute("content").includes(triggerText)).forEach(e=>e.setAttribute("content",e.getAttribute("content").replaceAll(triggerText,"").trim())),[...document.head.querySelectorAll(h)].filter(e=>e.textContent.includes(triggerText)).forEach(e=>e.textContent=e.textContent.replaceAll(triggerText,"").trim())};document.addEventListener("DOMContentLoaded",n)})();