(()=>{
/*!
  
    store page detail product dimensions
    
    License         : < https://tinyurl.com/s872fb68 >
    
    Version         : 0.6.0
    
    SS Version      : 7.1
    
    Products V2
    Compatible      : Yes
    
    Fluid
    Engine
    Compatible      : Not Applicable
    
    Notes           : this code currently supports only variant display dropdown
                      
                      the dimensions entered in the squarespace editor are
                      shipping dimensions, not product dimensions. if you don't
                      need to use shipping dimensions for shipping you can use
                      it for product dimensions. if you need product dimensions
                      as well as shipping then use the <script id="twc-spdpd">
                      tag referenced in the read me
    
    Copyright       : 2022-2025 Thomas Creedon
                      
                      Tom's Web Consulting < http://www.tomsWeb.consulting/ >
    
    no user serviceable parts below
    
    */
const t="0.6.0",e=`\n    \n      Store Page Detail Product Dimensions v${t}\n      \n      License < https://tinyurl.com/s872fb68 >\n      \n      Â© 2022-2025 Thomas Creedon\n      \n      Tom's Web Consulting < http://www.tomsWeb.consulting >\n      \n      `.replace(/^\s+/gm,"");console.log(e);const n=()=>{const t=13===Static.SQUARESPACE_CONTEXT.collection?.type;if(!t)return;const e=!!Static.SQUARESPACE_CONTEXT.item;if(!e)return;const n="twc-spdpd",r=[".product-description",".sqs-block-html .sqs-block-content"].join(", ");triggerText=`[ ${n} ]`;let o=[...document.body.querySelectorAll(r)].filter(t=>t.textContent.includes(triggerText));if(!o.length)return;const c=Static.SQUARESPACE_CONTEXT.product.variants,a=c.length;if(!a)return;const i=(t,e,n,r,o)=>{const c=e[2],a=e[3];let i,l;switch(e[1]){case"h":case"l":case"w":i=n[h[e[1]]],l=r;break;case"k":case"p":i=n.weight,l=o}return i=s[l][a](i).toFixed(c),t=t.replaceAll(e[0],i),t},s={CENTIMETER:{Cm:t=>t,In:t=>t/2.54,Mm:t=>10*t},INCH:{Cm:t=>2.54*t,In:t=>t,Mm:t=>t/.03937},KILOGRAM:{Kg:t=>t,Lb:t=>.453592*t},POUND:{Kg:t=>2.20462*t,Lb:t=>t}},l=t=>{const e=![...b].filter(t=>!t.querySelector("select")?.value).length;if(!e)return;const n=t=>{r[t.getAttribute("data-variant-option-name")]=t.querySelector(".variant-select-wrapper").getAttribute("data-selected-value")};let r={};b.forEach(n),r=JSON.stringify(r),o.forEach(t=>t.classList.add(u)),[...o].filter(t=>t.dataset.attributes===r).forEach(t=>t.classList.remove(u))},d=document.body.querySelector(".product-meta .product-variants .variant-select-wrapper select .unselected-option-value"),u=`${n}--hide`,h={h:"height",l:"length",w:"width"},m=n.split("-").reduce((t,e)=>t?.[e],window),p=new RegExp(`\\[ ${n} \\]`,"gm"),g=(t,e)=>{const n=document.createElement("template");n.innerHTML=e,t.replaceWith(n.content)},E=t=>{const e=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;e.nextNode();){const t=e.currentNode,n=t.textContent,r=p.test(n);r&&g(t,f)}},S=t=>{const e=JSON.stringify(t.attributes),r=t.shippingSize,o=t.shippingWeight,c=m?.variants?.[e]??{height:r.height,length:r.len,weight:o.value,width:r.width},s=Object.values(c).some(Boolean);if(!s)return;const l=a>1?` ${u}`:"",d=[...m.format.matchAll(/%([hklpw])(\d)(Cm|In|Kg|Lb|Mm)/g)],h=r.unit,p=o.unit,g=d.reduce((t,e)=>i(t,e,c,h,p),m.format);f+=`\n        \n          <span class="${n}${l}" data-attributes='${e}'>\n            \n            ${g}\n            \n            </span>\n            \n          `.trim()},b=document.body.querySelectorAll("#main-product-variants .variant-option");let f="";c.forEach(t=>S(t)),d||(f=f.replace(` ${u}`,"")),o.forEach(E),o=document.body.querySelectorAll(`.${n}`),document.body.querySelector("#main-product-variants")?.addEventListener("change",l)};document.addEventListener("DOMContentLoaded",n)})();