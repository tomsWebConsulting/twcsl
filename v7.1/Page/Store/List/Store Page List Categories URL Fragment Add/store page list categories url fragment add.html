<!-- begin TWC Store Page List Categories URL Fragment Add -->

  <script>
  
    ( ( ) => {
    
      /*
      
        store page list categories url fragment add
        
        License       : < https://tinyurl.com/s872fb68 >
        
        Version       : 0.1.2
        
        SS Version    : 7.1
        
        Products V2
        Compatible    : Yes
        
        Fluid
        Engine
        Compatible    : Not Applicable
        
        Copyright     : 2025 Thomas Creedon
                           
                        Tom's Web Consulting < http://www.tomsWeb.consulting/ >
        
        */
        
      const
      
        version = '0.1.2',
        
        s = `
        
          Store Page List Categories URL Fragment Add v${ version }
          
          License < https://tinyurl.com/s872fb68 >
          
          Â© 2025 Thomas Creedon
          
          Tom's Web Consulting < http://www.tomsWeb.consulting >
          
          `
          
          .replace ( /^\s+/gm, '' );
          
      console.log ( s );
      
      const callback = ( ) => {
      
        const isStorePage = Static
        
          .SQUARESPACE_CONTEXT
          
          .collection
          
          ?.type
          
          ===
          
          13;
          
        if ( ! isStorePage ) return; // bail if not store page
        
        const isList = ( ( ) => {
        
          const
          
            selector = 'body[ id^="collection-" ]',
            
            is = document
            
              .querySelector ( selector )
              
              !==
              
              null;
              
          return is;
          
          } ) ( );
          
        if ( ! isList ) return; // bail if not list
        
        let selector = '.page-section.product-list-section';
        
        const
        
          callback = ( element ) => {
          
            const href = element
            
              .getAttribute ( 'href' )
              
              +
              
              `#${ codeKey }`;
              
            element
            
              .setAttribute ( 'href', href );
              
            },
            
          codeKey = 'twc-splcufa',
          
          sectionElement = document
          
            .body
            
            .querySelector ( selector );
            
        sectionElement
        
          .setAttribute ( 'id', codeKey );
          
        selector = '.category-link, .nested-category-breadcrumb-link';
        
        document
        
          .querySelectorAll ( selector )
          
          .forEach ( callback );
          
        };
        
      document
      
        .addEventListener ( 'DOMContentLoaded', callback );
        
      } ) ( );
      
    </script>
    
  <!-- end TWC Store Page List Categories URL Fragment Add -->
