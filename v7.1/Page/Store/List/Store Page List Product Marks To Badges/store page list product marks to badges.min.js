/*!

  store page list product marks to badges
  
  License         : < https://tinyurl.com/s872fb68 >
  
  Version         : 0.3.0
  
  SS Version      : 7.1
  
  Products V2
  Compatible      : Yes
  
  Fluid
  Engine
  Compatible      : Not Applicable
  
  Dependencies    : Page Tags Cache < https://tinyurl.com/4frfus4a >
  
  Note            : this code is comprised of a style and script tag. both are
                    needed for the full effect to work
  
  Copyright       : 2023-2025 Thomas Creedon
                    
                    Tom's Web Consulting < http://www.tomsWeb.consulting/ >
  
  */
(()=>{const t="0.3.0",e=`\n    \n      Store Page List Product Marks To Badges v${t}\n      \n      License < https://tinyurl.com/s872fb68 >\n      \n      Â© 2023-2025 Thomas Creedon\n      \n      Tom's Web Consulting < http://www.tomsWeb.consulting >\n      \n      `.replace(/^\s+/gm,"");console.log(e)})(),window.twc=window.twc||{},twc.ptc=twc.ptc||{},twc.ptc.callbacks=(t=>{const e=t=>{const e=!Static.SQUARESPACE_CONTEXT.item?.id;if(!e)return;let r,c=".product-list .product-list-container";const o="twc-splpmtb",s=`--${o}-`,n=t=>{const e=t=>{const e=t.textContent.trim(),c=!!r.length,n=c&&r.includes(e);c&&!n||(t.classList.add(`${o}-hide`),s.insertAdjacentHTML("beforeend",`\n                \n                  <li>\n                  \n                    ${e}\n                    \n                    </li>\n                    \n                  `))},c=`.${o}-item`;let s=t.querySelector(c);if(s)return;s=document.createElement("div"),s.innerHTML=`\n          \n            <ul class="${o}-item">\n            \n              </ul>\n              \n            `,s=s.firstElementChild,t.querySelectorAll(".product-mark").forEach(e);const n=s.childElementCount;n&&t.querySelector(".product-list-image-wrapper").append(s)},l=(t,e)=>{const r=getComputedStyle(t).getPropertyValue(e);return r},i=document.body.querySelector(c),a=i.style,p=t=>{const e=".product-list .product-list-item",r=t.closest(e);return r&&(t=r),t},d=(t,e)=>{Object.entries(e).forEach(([e,r])=>t.setProperty(e,r))},u=t=>(t=[...new Set(t)].sort((t,e)=>2&t.compareDocumentPosition(e)?1:-1),t);c=[".product-list .product-list-item .product-mark",`.product-list .product-list-item[ class*="tag-${o}-" ]`].join(", ");{const t=l(i,`${s}position`),e=l(i,`${s}shape`),r=l(i,`${s}shape-size`),c=l(i,`${s}inset`),o=l(i,`${s}inset-space`);let[n,p,u,m]=Array(4).fill(0);switch(c){case"dock-horizontally":n=m=o;break;case"dock-vertically":p=u=o;break;case"floating":n=p=u=m=o}switch(t){case"bottom-center":case"bottom-left":case"bottom-right":a.setProperty(`${s}bottom`,n);break;case"center-left":case"center-right":d(a,{[`${s}top`]:"50%",[`${s}y`]:"-50%"});break;case"top-center":case"top-left":case"top-right":a.setProperty(`${s}top`,m)}switch(t){case"bottom-center":d(a,{[`${s}left`]:"50%",[`${s}x`]:"-50%"});break;case"bottom-left":a.setProperty(`${s}left`,p);break;case"bottom-right":a.setProperty(`${s}right`,u);break;case"center":d(a,{[`${s}left`]:"50%",[`${s}top`]:"50%",[`${s}x`]:"-50%",[`${s}y`]:"-50%"});break;case"center-left":a.setProperty(`${s}left`,p);break;case"center-right":a.setProperty(`${s}right`,u);break;case"top-center":d(a,{[`${s}left`]:"50%",[`${s}top`]:0,[`${s}x`]:"-50%",[`${s}y`]:0});case"top-left":a.setProperty(`${s}left`,p);break;case"top-right":a.setProperty(`${s}right`,u)}{let t=["circle","square"].includes(e);t&&(d(a,{[`${s}height`]:r,[`${s}width`]:r}),a.setProperty(`${s}border-radius`,"100%"))}}r=l(i,`${s}tag-match`),r="["!==r[0]?r.trim().split(/ *, */):[],u([...document.body.querySelectorAll(c)].map(p)).forEach(n)};return t.push(e),t})(twc.ptc.callbacks||[]);