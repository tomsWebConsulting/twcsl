<!-- begin TWC Store Page List Category Title Element to H1 -->

  <!--
  
    store page list category title element to h1
    
    License       : < https://tinyurl.com/s872fb68 >
    
    Version       : 0.2.0
    
    SS Version    : 7.1
    
    Products V2
    Compatible    : Yes
    
    Fluid
    Engine
    Compatible    : Not Applicable
    
    Note          : the code is comprised of a style and script tag. both are
                    needed for the full effect to work
    
    Copyright     : 2025 Thomas Creedon
                    
                    Tom's Web Consulting < http://www.tomsWeb.consulting/ >
    
    no user serviceable parts below
    
    -->
    
  <style>
  
    @media
    
      screen and ( min-width : 768px ),
      screen and ( max-width : calc ( 1295px ) ) and ( orientation : landscape )
      
        {
        
          h1.twc-splcteth--preserve-h2-style {
          
            font-size : calc( ( var( --heading-2-size-value ) - 1 ) * 1.2vw + 1rem );
            
            }
            
          }
          
    </style>
    
  <script>
  
    ( ( ) => {
    
      const callback = ( ) => {
      
        const
        
          version = '0.2.0',
          
          s = `
          
            Store Page List Category Title Element to H1 v${ version }
            
            License < https://tinyurl.com/s872fb68 >
            
            Â© 2025 Thomas Creedon
            
            Tom's Web Consulting < http://www.tomsWeb.consulting >
            
            `
            
            .replace ( /^\s+/gm, '' );
            
        console.log ( s );
        
        const isStorePage = Static
        
          .SQUARESPACE_CONTEXT
          
          .collection
          
          ?.type
          
          ===
          
          13;
          
        if ( ! isStorePage ) return; // bail if not store page
        
        const isList = ( ( ) => {
        
          const selector = 'body[ id^="collection-" ]';
          
          const is = document
          
            .querySelector ( selector );
            
          return is;
          
          } ) ( );
          
        if ( ! isList ) return; // bail if not list
        
        const
        
          codeKey = 'twc-splcteth',
          
          h1Element = document
          
            .createElement ( 'h1' ),
            
          options = codeKey
          
            .split ( '-' )
            
            .reduce ( ( obj, key ) => obj?.[ key ], window ),
            
          selector = '.product-list .nested-category-title',
          
          element = document
          
            .body
            
            .querySelector ( selector ),
            
          preserveH2Style = options.preserveH2Style;
            
        [
        
          ...
          
          element
          
            .attributes
            
          ]
          
          .forEach (
          
            a => h1Element
            
              .setAttribute ( a.name, a.value )
              
            );
            
        h1Element
        
          .classList
          
          .add ( `${ codeKey }` );
          
        h1Element.innerHTML = element.innerHTML;
        
        if ( preserveH2Style )
        
          h1Element
          
            .classList
            
            .add ( `${ codeKey }--preserve-h2-style` );
            
        element
        
          .parentNode
          
          .replaceChild ( h1Element, element );
          
        };
        
      document
      
        .addEventListener ( 'DOMContentLoaded', callback );
        
      } ) ( );
      
    </script>
    
  <!-- end TWC Store Page List Category Title Element to H1 -->
