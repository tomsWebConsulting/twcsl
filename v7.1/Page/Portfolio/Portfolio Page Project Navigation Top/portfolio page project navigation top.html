<!-- begin TWC Portfolio Page Project Navigation Top -->

  <!--
  
    portfolio page project navigation top
    
    License         : < https://tinyurl.com/s872fb68 >
    
    Version         : 0.2.0
    
    SS Version      : 7.1
    
    Fluid Engine    : Not Applicable
    Compatible
    
    Copyright       : 2026 Thomas Creedon
                      
                      Tom's Web Consulting < http://www.tomsWeb.consulting/ >
    
    no user serviceable parts below
    
    -->
    
  <style>
  
    body:not( .sqs-edit-mode-active ).view-item #page:has( #twc-pppnt ) .page-section:first-child {
    
      min-height : unset;
      
      }
      
    body:not( .sqs-edit-mode-active ).view-item #page:has( #twc-pppnt ) .page-section:first-child > .content-wrapper {
    
      display : none;
      
      }
      
    body:not( .sqs-edit-mode-active ) #page:has( #twc-pppnt ) #itemPagination {
    
      display : none;
      
      }
      
    #twc-pppnt {
    
      align-items : center;
      gap : 1em;
      
      }
      
    #twc-pppnt .item-pagination-link {
    
      margin : 0;
      
      }
      
    #twc-pppnt > *:first-child,
    #twc-pppnt > *:last-child
    
      {
      
        flex : 0 1 33%;
        min-width : 2rem;
        
        }
        
    #twc-pppnt > *:nth-child( 2 ) {
    
      flex : 1 1 auto;
      min-width : 0;
      text-align : center;
      
      }
      
    #twc-pppnt .item-pagination-link--next {
    
      justify-content : flex-end;
      
      }
      
    body.sqs-edit-mode-active #twc-pppnt {
    
      display : none;
      
      }
      
    </style>
    
  <script>
  
    ( ( ) => {
    
      const
      
        version = '0.2.0',
        
        s = `Portfolio Page Project Navigation Top v${ version }
        
          License < https://tinyurl.com/s872fb68 >
          
          Â© 2026 Thomas Creedon
          
          Tom's Web Consulting < http://www.tomsWeb.consulting >`
          
          .replace ( /^\s+/gm, '' );
          
      console.log ( s );
      
      const isPortfolioPage = Static
      
        .SQUARESPACE_CONTEXT
        
        .collection
        
        ?.type
        
        ===
        
        23;
        
      if ( ! isPortfolioPage ) return; // bail if not portfolio page
      
      const isDetail
      
        =
        
        !!
        
        Static
        
          .SQUARESPACE_CONTEXT
          
          .item;
          
      if ( ! isDetail ) return; // bail if not detail
      
      // globals
      
      {
      
        // initialize twc module
        
        window.twc =
        
          ( ( self ) => self )
          
          ( window.twc || { } );
          
        // initialize twc pppnt sub-module
        
        twc.pppnt =
        
          ( ( self ) => self )
          
          ( twc.pppnt || { } );
          
        }
        
      const dclCallback = ( ) => {
      
        const
        
          codeKey = 'twc-pppnt',
          
          element = document
          
            .body
            
            .querySelector ( '#itemPagination' )
            
            .cloneNode ( true ),
            
          options = codeKey
          
            .split ( '-' )
            
            .reduce ( ( obj, key ) => obj?.[ key ], window ),
            
          selector =
          
            '#sections [ data-test = "page-section" ] ',
            
          templateElement = document
          
            .createElement ( 'template' ),
            
          title = Static
          
            .SQUARESPACE_CONTEXT
            
            .item
            
            .title,
            
          formatHtmlMap = {
          
            'Heading 1'       : '<h1 />',
            'Heading 2'       : '<h2 />',
            'Heading 3'       : '<h3 />',
            'Heading 4'       : '<h4 />',
            'Paragraph 1'     : '<p class="sqsrte-large" />',
            'Paragraph 2'     : '<p />',
            'Paragraph 3'     : '<p class="sqsrte-small" />',
            'Monospace'       : '<pre>' +
            
              '<code>' +
              
                '</code>' +
                
              '</pre>',
              
            'HTML'            : options.html
            
            };
            
        let
        
          html
          
            =
            
            options.paragraphStyle [ 0 ] !== '['
            
            ?
            
            options
            
              .paragraphStyle
              
            :
            
            'Heading 2';
            
        const isHtml = html === 'HTML';
        
        html = formatHtmlMap [ html ];
        
        if ( ! isHtml ) {
        
          templateElement.innerHTML = html;
          
          let element = templateElement
          
            .content
            
            .querySelectorAll ( '*' );
            
          element = element [
          
            element.length - 1
            
            ];
            
          element.innerHTML = title;
          
          } else
          
            templateElement.innerHTML
            
              =
              
              html.replace (
              
                '[ title ]', title
                
                );
                
        // element
        
        {
        
          const
          
            hasFirstAndLast = element
            
              .childElementCount
              
              ===
              
              2,
              
            hasNext = !! element
            
              .querySelector (
              
                '.item-pagination-link--next'
                
                ),
                
            hasPrev = !! element
            
              .querySelector (
              
                '.item-pagination-link--prev'
                
                );
                
          element.id = codeKey;
          
          switch ( true ) {
          
            case hasFirstAndLast :
            
              element
              
                .querySelector (
                
                  '.item-pagination-link--prev'
                  
                  )
                  
                .after (
                
                  templateElement.content
                  
                  );
                  
              break;
              
            case hasNext :
            
              templateElement
              
                .content
                
                .prepend (
                
                  document.createElement ( 'div' )
                  
                  );
                  
              element.prepend (
              
                templateElement.content
                
                );
                
              break;
              
            case hasPrev :
            
              templateElement
              
                .content
                
                .append (
                
                  document.createElement ( 'div' )
                  
                  );
                  
              element.append (
              
                templateElement.content
                
                );
                
              break;
              
            }
            
          }
          
        document
        
          .body
          
          .querySelector ( selector )
          
          .after ( element );
          
        };
        
      document.addEventListener (
      
        'DOMContentLoaded',
        
        dclCallback
        
        );
        
      } ) ( );
      
    </script>
    
  <!-- end TWC Portfolio Page Project Navigation Top -->
