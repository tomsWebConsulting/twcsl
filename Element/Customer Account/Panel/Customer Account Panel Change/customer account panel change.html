<!-- begin TWC Customer Account Panel Change -->

  <!--
  
    customer account panel change
    
    License      : < https://tinyurl.com/s872fb68 >
    
    Version      : 0.9.1
    
    SS Versions  : 7.1, 7.0
    
    v7.1
    Fluid
    Engine
    Compatible   : Not Applicable
    
    Copyright    : 2023-2025 Thomas Creedon
                   
                   Tom's Web Consulting < http://www.tomsWeb.consulting/ >
    
    no user serviceable parts below
    
    -->
    
  <script>
  
    ( ( ) => {
    
      const
      
        version = '0.9.0',
        
        s = `Customer Account Panel Change v${ version }
        
          License < https://tinyurl.com/s872fb68 >
          
          Â© 2023-2025 Thomas Creedon
          
          Tom's Web Consulting < http://www.tomsWeb.consulting >`
          
          .replace ( /^\s+/gm, '' );
          
      console.log ( s );
      
      // bail if no mutation observer available
      
      if ( ! ( 'MutationObserver' in window ) ) return;
      
      // initialize twc module
      
      window.twc = ( ( self ) => self ) ( window.twc || { } );
      
      // initialize twc capc sub-module
      
      twc.capc = ( ( self ) => self  ) ( twc.capc || { } );
        
      twc.capc.callbacks =
      
        ( ( self ) => self ) ( twc.capc.callbacks || [ ] );
        
      const callback = ( ) => {
      
        const
        
          flDebug = false,
          
          codeKey = 'twc-capc';
          
        let
        
          selector
          
            =
            
            'script[ type^="application/vnd.'
            
            +
            
            `${ codeKey.replaceAll ( '-', '.' ) }+json; lang=" ]`,
            
          element = document
          
            .body
            
            .querySelector ( selector );
            
        // bail if no json
        
        if ( element === null ) {
        
          const s = `${ codeKey } no embedded JSON script tag`;
          
          console.error ( s );
          
          return;
          
          }
          
        let language;
        
        try {
        
          language
          
            =
            
            JSON
            
              .parse (
            
                element
                
                  .textContent
                  
                  .replace ( /\/\*[^]*?\*\//g, '' ) // remove * comments
                  
                );
                
          } catch ( error ) {
          
            const s = `${ codeKey } error : `;
            
            console.error ( s, error );
            
            return;
            
            }
            
        const
        
          accountFrameIdValue = 'accountFrame',
          
          bodyCallback = ( mutations ) => {
          
            for ( const mutation of mutations ) {
            
              const b = ! mutation.addedNodes.length;
              
              if ( b ) continue; // continue if no nodes added
              
              const
              
                element = mutation
                
                  .addedNodes
                  
                  [ 0 ],
                  
                isAccountFrame = element
                
                  .getAttribute ( 'id' )
                  
                  ==
                  
                  `${ accountFrameIdValue }`;
                  
              if ( ! isAccountFrame ) continue; // continue if not account frame
              
              load ( element );
              
              }
              
            }, // end body callback
            
          bodyObserver = new MutationObserver ( bodyCallback ),
          
          bodyConfig = {
          
            childList : true
            
            },
            
          dataPanelTypeAttributeName = 'data-panel-type',
          
          getAncestor = ( element, levels ) => {
          
            if ( ! element ) return null; // bail if no element
            
            while ( element && levels > 0 ) {
            
              element = element
              
                .parentElement;
                
              levels--;
              
              }
              
            return element;
            
            },
            
          load = ( accountFrameElement ) => {
          
            const
            
              callback = ( event ) => {
              
                dcmnt = accountFrameElement
                
                  .contentDocument;
                  
                const
                
                  pathname = dcmnt
                  
                    .location
                    
                    .pathname,
                    
                  isAccountFrame = pathname
                  
                    .startsWith ( '/account/frame' );
                    
                if ( ! isAccountFrame ) return; // bail if not customer panel
                
                const selector = '#user-profile-page-root';
                
                userProfilePageRootElement = dcmnt
                
                  .querySelector ( selector );
                  
                // bail if no element
                
                if ( userProfilePageRootElement === null ) return;
                
                const userCssAdd = ( ) => {
                
                  const
                  
                    attrribute = `data-${ codeKey }`,
                    
                    isAdd
                    
                      =
                      
                      css
                      
                      !==
                      
                      undefined
                      
                      &&
                      
                      dcmnt
                      
                        .head
                        
                        .querySelector ( `style[ ${ attrribute }` )
                        
                        ===
                        
                        null;
                        
                  if ( ! isAdd ) return; // bail if no add
                  
                  const style = dcmnt
                  
                    .createElement ( 'style' );
                    
                  style
                  
                    .setAttribute ( `${ attrribute }`, '' );
                    
                  style.innerHTML = css;
                  
                  dcmnt
                  
                    .body
                    
                    .append ( style );
                    
                  };
                  
                userCssAdd ( );
                
                userProfilePageRootElement // code class add
                
                  .classList
                  
                  .add ( `${ codeKey }` );
                  
                // start listening for changes in specified node
                
                rootObserver.observe (
                
                  userProfilePageRootElement,
                  
                  rootConfig
                  
                  );
                  
                },
                
              css = document
              
                .querySelector ( `x-${ codeKey }-style` )
                
                ?.textContent;
                
            accountFrameElement
            
              .addEventListener ( 'load', callback );
            
            }, // end load
            
          processPanel = ( element ) => {
          
            const
            
              options = twc.capc,
              
              p = new RegExp ( '^\\[.+\\]$' ),
              
              titleSelector = [
              
                'button ~ div',
                
                'div[ data-testid="hidden-left-button" ] ~ div'
                
                ]
                
                .join ( ', ' ),
                
              titleElement
              
                =
                
                element
                
                  .parentElement
                  
                  .parentElement
                  
                  .previousElementSibling
                  
                  .querySelector ( titleSelector ),
                  
              callbacks = options.callbacks,
              
              panelClassAdd = ( classNameSuffix ) => {
              
                removeElementClassesByPrefix (
                
                  panelElement,
                  
                  `${ codeKey }--`
                  
                  )
                  
                panelElement
                
                  .classList
                  
                  .add ( `${ codeKey }--${ classNameSuffix }` );
                  
                },
                
              panelElement = titleElement
              
                .closest ( '.CSSTG-group' ),
                
              title = titleElement
              
                .textContent;
                
            let
            
              panelType,
              
              selector,
              
              titleNew = '';
              
            const
            
              isAccountPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .account
                  
                  .Title,
                  
              isAddressNewPanel
              
                =
              
                userProfilePageRootElement
                
                  .getAttribute ( dataPanelTypeAttributeName )
                  
                ===
                
                language
                 
                  .panels
                  
                  .addressNew
                  
                  .panelType,
                  
              isAddressPanel
              
                =
              
                userProfilePageRootElement
                
                  .getAttribute ( dataPanelTypeAttributeName )
                  
                ===
                
                language
                
                  .panels
                  
                  .address
                  
                  .panelType,
                  
              isAddressesPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .addresses
                  
                  .Title,
                  
              isDigitalProductsPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .digitalProducts
                  
                  .Title,
                  
              isEmailPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .email
                  
                  .Title,
                  
              isOrderPanel
              
                =
                
                userProfilePageRootElement
                
                  .getAttribute ( dataPanelTypeAttributeName )
              
                ===
                
                language
                
                  .panels
                  
                  .order
                  
                  .panelType,
                  
              isOrderPaymentMethodPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .orderPaymentMethod
                  
                  .Title,
                  
              isOrderShippingPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .orderShipping
                  
                  .Title,
                  
              isOrdersPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .orders
                  
                  .Title,
                  
              isPasswordUpdatePanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .passwordUpdate
                  
                  .Title,
                  
              isPaymentMethodNewPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .paymentMethodNew
                  
                  .Title,
                  
              isPaymentMethodPanel
              
                =
                
                userProfilePageRootElement
                
                  .getAttribute ( dataPanelTypeAttributeName )
              
                ===
                
                language
                
                  .panels
                  
                  .paymentMethod
                  
                  .panelType,
                  
              isPaymentPanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .payment
                  
                  .Title,
                  
              isProfilePanel
              
                =
                
                title
                
                ===
                
                language
                
                  .panels
                  
                  .profile
                  
                  .Title;
                  
            userProfilePageRootElement
            
              .removeAttribute ( dataPanelTypeAttributeName );
              
            switch ( true ) {
            
              case isAccountPanel :
              
                panelType = 'account';
                
                panelClassAdd ( 'account-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.account;
                  
                const classAdd = ( key ) => {
                
                  const
                  
                  
                    selector = `[ href="/account/${ key }" ]`,
                  
                    sectionElement = element
                    
                      .querySelector ( selector );
                      
                  if ( ! sectionElement ) return; // bail if no section element
                  
                  sectionElement
                  
                    .classList
                    
                    .add ( `${ codeKey }--account--${ key }` );
                    
                  };
                  
                // greeting classes add
                
                {
                
                  const selector = 'button[ data-test="sign-out" ]';
                  
                  let buttonElement = element
                  
                    .querySelector ( selector )
                    
                    .previousElementSibling;
                    
                  buttonElement
                  
                    .classList
                    
                    .add ( `${ codeKey }--account--greeting--name` );
                    
                  buttonElement
                  
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--account--greeting` );
                    
                  }
                  
                classAdd ( 'digital-products' );
                
                classAdd ( 'orders' );
                
                classAdd ( 'payment' );
                
                classAdd ( 'addresses' );
                
                classAdd ( 'profile' );
                
                break;
                
              case isAddressesPanel : {
              
                panelType = 'addresses';
                
                panelClassAdd ( 'addresses-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.addresses;
                  
                const callback = ( element ) => {
                
                  const isAddNewAddress = element
                  
                    .getAttribute ( 'href' )
                    
                    .endsWith ( '/new' );
                    
                  if ( isAddNewAddress ) {
                  
                    getAncestor (
                    
                      element,
                      
                      3
                      
                      )
                      
                      .classList
                      
                      .add ( `${ codeKey }--addresses--add-new-address` );
                      
                    return; // continue
                    
                    }
                    
                  const selector = 'div > div > div > div > label';
                  
                  element
                  
                    .parentElement
                    
                    .previousElementSibling
                    
                    .classList
                    
                    .add ( `${ codeKey }--addresses--address--tag` );
                    
                  element
                  
                    .parentElement
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--addresses--address` );
                    
                  element = element
                  
                    .querySelector ( selector );
                    
                  element
                  
                    .classList
                    
                    .add ( `${ codeKey }--addresses--address--name` );
                    
                  element
                  
                    .nextElementSibling
                    
                    .classList
                    
                    .add (
                    
                      `${ codeKey }--addresses--address--address-1`
                      
                      );
                      
                  };
                  
                selector = 'a[ href^="/account/addresses/" ]';
                
                element
                
                  .querySelectorAll ( selector )
                  
                  .forEach ( callback );
                  
                break;
                
                }
                
              case isAddressNewPanel :
              
                panelType = language
                
                  .panels
                  
                  .addressNew
                  
                  .panelType;
                  
                panelClassAdd ( 'addresses--address-new-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.addressNew;
                  
                break;
                
              case isAddressPanel :
              
                panelType = 'address';
                
                panelClassAdd ( 'addresses--address-panel' );
                
                // delete address
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//span [
                      
                        text ( ) = "${
                        
                          language
                          
                            .panels
                            
                            .address
                            
                            .deleteAddress
                            
                          }"
                          
                        ]`,
                        
                      element
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    5
                    
                    )
                    
                    .classList
                    
                    .add ( `${ codeKey }--addresses--address--delete-address` );
                    
                  }
                  
                break;
                
              case isDigitalProductsPanel :
              
                panelType = 'digital products';
                
                panelClassAdd ( 'digital-products-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.digitalProducts;
                  
                const addClass = ( element, key ) => {
                
                  const s = `${ codeKey }--digital-products--${ key }`;
                  
                  element
                  
                    .classList
                    
                    .add ( s );
                    
                  };
                  
                // search
                
                addClass (
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `
                      
                        .//input [
                        
                          @placeholder = '${
                          
                            language
                            
                              .panels
                              
                              .digitalProducts
                              
                              .search
                              
                            }'
                               
                          ]
                          
                        `,
                        
                      element
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    4
                      
                    ),
                    
                  'search'
                  
                  );
                  
                // videos
                
                {
                
                  const callback = ( element ) => {
                  
                    element = element
                    
                      .parentElement
                      
                      .parentElement;
                      
                    addClass (
                    
                      element
                      
                        .nextElementSibling,
                        
                      'videos--name'
                      
                      );
                      
                    addClass (
                    
                      getAncestor (
                      
                        element,
                        
                        4
                        
                        ),
                        
                      'videos'
                      
                      );
                      
                    };
                    
                  selector =
                  
                    'path[ d="M7 6v6l5-3-5-3z" ]';
                    
                  element
                  
                    .querySelectorAll ( selector )
                    
                    .forEach ( callback );
                    
                  }
                  
                // member site
                
                {
                
                  const callback = ( element ) => {
                  
                    element = element
                    
                      .parentElement
                      
                      .parentElement;
                      
                    addClass (
                    
                      element
                      
                        .nextElementSibling,
                        
                      'member-site--name'
                      
                      );
                      
                    addClass (
                    
                      getAncestor (
                      
                        element,
                        
                        4
                        
                        ),
                        
                      'member-site'
                      
                      );
                      
                    };
                    
                  selector = 'path[ d="M10 11H6v4h4v-4zM12 12h4v2h-4v-2z" ]';
                  
                  element
                  
                    .querySelectorAll ( selector )
                    
                    .forEach ( callback );
                    
                  }
                  
                // course
                
                {
                
                  const callback = ( element ) => {
                  
                    element = element
                    
                      .parentElement
                      
                      .parentElement;
                      
                    addClass (
                    
                      element
                      
                        .nextElementSibling,
                        
                      'course--name'
                      
                      );
                      
                    addClass (
                    
                      getAncestor (
                      
                        element,
                        
                        4
                        
                        ),
                        
                      'course'
                      
                      );
                      
                    };
                    
                  selector = 'path[ d="M12 4V0h-2v4h2z" ]';
                  
                  element
                  
                    .querySelectorAll ( selector )
                    
                    .forEach ( callback );
                    
                  }
                  
                // account settings
                
                {
                
                  selector = '[ href="/account" ]';
                  
                  addClass (
                  
                    getAncestor (
                    
                      element
                      
                        .querySelector ( selector ),
                        
                      2
                      
                      ),
                      
                    'account-settings'
                    
                    );
                    
                  }
                  
                break;
                
              case isEmailPanel :
              
                panelType = 'email';
                
                panelClassAdd ( 'profile--email-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.email;
                  
                // current
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .email
                          
                          .current
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--profile--email--current` );
                    
                  }
                  
                // new
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .email
                          
                          .new
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--profile--email--new` );
                    
                  }
                  
                // confirm new
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .email
                          
                          .confirmNew
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--profile--email--confirm-new` );
                    
                  }
                  
                // password
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .email
                          
                          .password
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--profile--email--password` );
                    
                  }
                  
                break;
                
              case isOrderPanel : {
              
                panelType = language
                
                  .panels
                  
                  .order
                  
                  .panelType;
                  
                panelClassAdd ( 'orders--order-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.order;
                  
                let summaryElement;
                
                // order date
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//label [
                      
                        . = "${
                        
                          language
                          
                            .panels
                            
                            .order
                            
                            .orderDate
                            
                          }"
                          
                        ]`,
                        
                      element
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    4
                    
                    )
                    
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--date` );
                    
                  }
                  
                // status
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//label [
                      
                        . = "${
                        
                          language
                          
                            .panels
                            
                            .order
                            
                            .status
                            
                          }"
                          
                        ]`,
                        
                      element
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    4
                    
                    )
                    
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--status` );
                    
                  }
                  
                // items
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      text ( ) = "${
                      
                        language
                        
                          .panels
                          
                          .order
                          
                          .items
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--items` );
                    
                  }
                  
                // summary
                
                {
                
                  summaryElement
                  
                    =
                    
                    xPathEvaluate (
                    
                      `.//div [
                      
                        text ( ) = "${
                        
                          language
                          
                            .panels
                            
                            .order
                            
                            .summary
                            
                          }"
                          
                        ]`,
                        
                      element
                      
                      )
                      
                      .snapshotItem ( 0 )
                      
                      .parentElement;
                      
                  summaryElement
                  
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--summary` );
                    
                  }
                  
                // subtotal
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//label [
                      
                        . = "${
                        
                          language
                          
                            .panels
                            
                            .order
                            
                            .subtotal
                            
                          }"
                          
                        ]`,
                        
                      summaryElement
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    4
                    
                    )
                      
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--summary--subtotal` );
                    
                  }
                  
                // shipping
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//label [
                      
                        . = "${
                        
                          language
                          
                            .panels
                            
                            .order
                            
                            .shipping
                            
                          }"
                          
                        ]`,
                        
                      summaryElement
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    4
                    
                    )
                      
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--summary--shipping` );
                    
                  }
                  
                // tax
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//label [
                      
                        . = "${
                        
                          language
                          
                            .panels
                            
                            .order
                            
                            .tax
                            
                          }"
                          
                        ]`,
                        
                      summaryElement
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    4
                    
                    )
                      
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--summary--tax` );
                    
                  }
                  
                // total
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//label [
                      
                        . = "${
                        
                          language
                          
                            .panels
                            
                            .order
                            
                            .total
                            
                          }"
                          
                        ]`,
                        
                      summaryElement
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    4
                    
                    )
                      
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--summary--total` );
                    
                  }
                  
                // payment method
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//label [
                      
                        . = "${
                        
                          language
                          
                            .panels
                            
                            .paymentMethod
                            
                            .Title
                            
                          }"
                          
                        ]`,
                        
                      element
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    5
                    
                    )
                      
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--payment-method` );
                    
                  }
                  
                // shipping
                
                {
                
                  selector = 'a[ href^="/account/orders/" ]' +
                  
                    '[ href$="/shipping" ]';
                    
                  element
                  
                    .querySelector ( selector )
                    
                    ?.classList
                    
                    .add ( `${ codeKey }--orders--order--shipping` );
                    
                  }
                  
                break;
                
                }
                
              case isOrderPaymentMethodPanel :
              
                panelType = language
                
                  .panels
                  
                  .orderPaymentMethod
                  
                  .panelType;
                  
                panelClassAdd ( 'orders--order--payment-method-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.paymentMethod;
                  
                break;
                
              case isOrderShippingPanel :
              
                panelType = 'order shipping';
                
                panelClassAdd ( 'orders--order--shipping-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.shipping;
                  
                // shipping option
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .orderShipping
                          
                          .shippingOption
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--shipping--option` );
                    
                  }
                  
                // shipping address
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .orderShipping
                          
                          .shippingAddress
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--shipping--address` );
                    
                  }
                  
                break;
                
              case isOrdersPanel :
              
                panelType = 'orders';
                
                panelClassAdd ( 'orders-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.orders;
                  
                const callback = ( element ) => {
                
                  const selector = 'div > div > div > div';
                  
                  element
                  
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--orders--order` );
                    
                  element = element
                  
                    .querySelector ( selector );
                    
                  element
                  
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--number` );
                    
                  element
                  
                    .nextElementSibling
                    
                    .classList
                    
                    .add ( `${ codeKey }--orders--order--date` );
                    
                  };
                
                selector = 'a[ href^="/account/orders/" ]';
                
                element
                
                  .querySelectorAll ( selector )
                  
                  .forEach ( callback );
                  
                break;
                
              case isPasswordUpdatePanel :
              
                panelType = 'password update';
                
                panelClassAdd ( 'profile--password-update-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.passwordUpdate;
                  
                // current
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .passwordUpdate
                          
                          .current
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add (
                    
                      `${ codeKey }--profile--update-password--current`
                      
                      );
                      
                  }
                  
                // new
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .passwordUpdate
                          
                          .new
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add (
                    
                      `${ codeKey }--profile--update-password--new`
                      
                      );
                      
                  }
                  
                break;
                
              case isPaymentMethodNewPanel :
              
                panelType = language
                
                  .panels
                  
                  .paymentMethodNew
                  
                  .panelType;
                  
                panelClassAdd ( 'payment--payment-method-new-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.paymentMethodNew;
                  
                // card details
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .paymentMethod
                          
                          .cardDetails
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add (
                    
                      `${ codeKey }--payment--payment-method-new--card-details`
                      
                      );
                      
                  }
                  
                // billing address
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .paymentMethod
                          
                          .billingAddress
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add (
                    
                      `${ codeKey }--payment--payment-method-new--` +
                      
                        'billing-address'
                      
                      );
                      
                  }
                  
                break;
                
              case isPaymentMethodPanel :
              
                panelType = language
                
                  .panels
                  
                  .paymentMethod
                  
                  .panelType;
                  
                panelClassAdd ( 'payment--payment-method-panel' );
                
                // card details
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .paymentMethod
                          
                          .cardDetails
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add (
                    
                      `${ codeKey }--payment--payment-method--card-details`
                      
                      );
                      
                  }
                  
                // billing address
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .paymentMethod
                          
                          .billingAddress
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add (
                    
                      `${ codeKey }--payment--payment-method--billing-address`
                      
                      );
                      
                  }
                  
                // delete payment method
                
                {
                
                  getAncestor (
                  
                    xPathEvaluate (
                    
                      `.//span [
                      
                        text ( ) = "${
                        
                          language
                          
                            .panels
                            
                            .paymentMethod
                            
                            .deletePaymentMethod
                            
                          }"
                          
                        ]`,
                        
                      element
                      
                      )
                      
                      .snapshotItem ( 0 ),
                      
                    7
                    
                    )
                    
                    .classList
                    
                    .add (
                    
                      `${ codeKey }--payment--payment-method--` +
                      
                        'delete-payment-method'
                        
                      );
                      
                  }
                  
                break;
                
              case isPaymentPanel : {
              
                panelType = 'payment';
                
                panelClassAdd ( 'payment-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.payment;
                  
                const
                
                  callback = ( element ) => {
                  
                    element
                    
                      .parentElement
                      
                      .classList
                      
                      .add ( `${ codeKey }--payment--payment-method` );
                      
                    };
                    
                // default
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .payment
                          
                          .default
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--payment--default` );
                    
                  }
                  
                selector = 'a[ href^="/account/payment/" ]' +
                
                  ':not( [ href$="/add" ] )';
                  
                element
                
                  .querySelectorAll ( selector )
                  
                  .forEach ( callback );
                  
                // other
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .payment
                          
                          .other
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--payment--other` );
                    
                  }
                  
                // add
                
                {
                
                  selector = 'a[ href^="/account/payment/add" ]';
                  
                  getAncestor (
                  
                    element
                    
                      .querySelector ( selector ),
                      
                    3
                    
                    )
                    
                    .classList
                    
                    .add ( `${ codeKey }--payment--add-new-method` );
                    
                  }
                  
                break;
                
                }
                
              case isProfilePanel :
              
                panelType = 'profile';
                
                panelClassAdd ( 'profile-panel' );
                
                titleNew = options
                
                  .panelTitles
                  
                  ?.profile;
                  
                // name
                
                {
                
                  selector = 'input[ data-test="first-name-input" ]';
                  
                  const firstNameElement
                  
                    =
                    
                    getAncestor (
                    
                      element
                      
                        .querySelector ( selector ),
                        
                      5
                      
                      );
                      
                  firstNameElement
                  
                    .classList
                    
                    .add ( `${ codeKey }--profile--name--first` );
                    
                  firstNameElement
                  
                    .nextElementSibling
                    
                    .classList
                    
                    .add ( `${ codeKey }--profile--name--last` );
                    
                  getAncestor (
                  
                    firstNameElement,
                    
                    3
                    
                    )
                    
                  .classList
                  
                  .add ( `${ codeKey }--profile--name` );
                  
                  }
                  
                // email
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .email
                          
                          .Title
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--profile--email` );
                    
                  }
                  
                // password
                
                {
                
                  xPathEvaluate (
                  
                    `.//div [
                    
                      . = "${
                      
                        language
                        
                          .panels
                          
                          .profile
                          
                          .password
                          
                        }"
                        
                      ]`,
                      
                    element
                    
                    )
                    
                    .snapshotItem ( 0 )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--profile--password` );
                    
                  }
                  
                // update password
                
                {
                
                  selector = 'a[ href="/account/profile/password/change" ]';
                  
                  element
                  
                    .querySelector ( selector )
                    
                    .parentElement
                    
                    .classList
                    
                    .add ( `${ codeKey }--profile--update-password` );
                    
                  }
                  
                break;
                
              }
              
            // header
            
            {
            
              // header class add
              
              titleElement
                
                .parentElement
                
                .parentElement
                
                .classList
                
                .add ( `${ codeKey }--header` );
                
              // back class add
              
              titleElement
              
                .previousElementSibling
                
                .classList
                
                .add ( `${ codeKey }--header--back` );
                
               // title class add
               
              titleElement
              
                .classList
                
                .add ( `${ codeKey }--header--title` );
                
              // close class add
              
              titleElement
              
                .nextElementSibling
                
                .classList
                
                .add ( `${ codeKey }--header--close` );
                
              }
              
            // title change
            
            {
            
              const isTitleChange
              
                =
                
                titleNew
                
                &&
                
                !
                
                p
                
                  .test ( titleNew );
                
              if ( isTitleChange ) {
              
                switch ( true ) {
                
                  case isOrderPanel :
                  
                    titleNew
                    
                    +=
                    
                    ' '
                    
                    +
                    
                    title
                    
                      .split ( ' ' )
                      
                      [ 1 ];
                      
                    break;
                    
                  }
                  
                titleElement
                
                  .textContent
                  
                  =
                  
                  titleNew;
                  
                }
                
              }
              
            if ( callbacks.length ) {
            
              const callback = ( callback ) => {
              
                try {
                
                  callback ( dcmnt, panelElement, panelType );
                  
                  } catch ( error ) {
                  
                    const s = `${ codeKey } callback error`;
                    
                    console.error ( s, error );
                    
                    }
                    
                };
                
              callbacks.forEach ( callback );
              
              }
              
            },
            
          removeElementClassesByPrefix = ( element, prefix ) => {
          
            if ( ! element ) return; // bail if no element
            
            const
            
              callback = ( className ) => {
              
                const b = className
                
                  .startsWith ( prefix );
                  
                if ( ! b ) return; // bail if no prefix
                
                classList
                
                  .remove ( className );
                  
                }
                
              classList = element
              
                .classList;
                
            classList
            
              .forEach ( callback );
              
            },
          
          rootCallback = ( mutations ) => {
          
            const callback = ( mutation ) => {
            
              const isNodesAdded = mutation
              
                .addedNodes
                
                .length;
                
              if ( ! isNodesAdded ) return; // bail if no nodes added
              
              if ( flDebug ) {
              
                console.log ( 'begin mutation' );
                
                console.log ( 'root : ', mutation );
                
                }
                
              let
              
                element = mutation
                
                  .addedNodes [ 0 ];
                  
              if ( flDebug )
              
                console.log ( 'node : ', element );
                
              const isElement = element
              
                .nodeType === 1;
                
              if ( ! isElement ) return; // bail if element type not element
              
              if ( flDebug ) {
              
                console.log ( 'element : ', element );
                
                console.log (
                
                  'class attribute : ',
                  
                  element.getAttribute ( 'class' )
                  
                  );
                  
                }
                
              const
              
                firstNameElement = element
                
                  .querySelector ( '#first-name' ),
                  
                addressKeyElement
                
                  =
                  
                  element
                  
                    .querySelector ( '[ data-test="region-select" ]' ),
                    
                addressNewKeyElement
                
                  =
                  
                  element
                  
                    .querySelector ( '[ data-test="region-input" ]' ),
                    
                firstPanelWrapperSelector
                
                  = 
                  
                  '.CSSTG-group > div > div',
                  
                firstPanelWrapperElement
                
                  =
                  
                  userProfilePageRootElement
                  
                    .querySelector ( firstPanelWrapperSelector ),
                    
                isAddressKeyElement = !! addressKeyElement,
                
                isAddressNewKeyElement
                
                  =
                  
                  !! 
                  
                  (
                  
                    addressNewKeyElement
                    
                    &&
                    
                    !
                    
                    xPathEvaluate (
                    
                    `
                    
                      ancestor::div [
                      
                        preceding-sibling::div [
                        
                          . = '${
                          
                            language
                            
                              .panels
                              
                              .paymentMethodNew
                              
                              .billingAddress
                              
                            }'
                            
                          ]
                          
                        ]
                        
                      `,
                      
                      addressNewKeyElement
                      
                      )
                      
                      .snapshotItem ( 0 )
                      
                    ),
                    
                isFirstPanelWrapperElement
                
                  =
                  
                  element
                  
                  ===
                  
                  firstPanelWrapperElement,
                  
                orderKeyElement = xPathEvaluate (
                
                  `
                  
                    .//label [
                    
                      . = '${
                      
                        language
                        
                          .panels
                          
                          .paymentMethod
                          
                          .Title
                          
                        }'
                        
                      ]
                      
                    `,
                    
                  element
                  
                  )
                  
                  .snapshotItem ( 0 ),
                  
                pannelContentSelector =
                
                  '.CSSTG-group .CSSTG-group > .CSSTG-child:first-child',
                  
                panelContentElement
                
                  =
                  
                  userProfilePageRootElement
                  
                  .querySelector ( pannelContentSelector ),
                  
                paymentMethodKeyElement = xPathEvaluate (
                
                  `
                  
                    .//span [
                    
                      . = '${
                      
                        language
                        
                          .panels
                          
                          .paymentMethod
                          
                          .deletePaymentMethod
                          
                        }'
                        
                      ]
                      
                    `,
                    
                  element
                  
                  )
                  
                  .snapshotItem ( 0 ),
                  
                paymentMethodNewKeyElement
                
                  =
                  
                  firstNameElement
                  
                  &&
                  
                  xPathEvaluate (
                  
                  `
                  
                    ancestor::div [
                    
                      preceding-sibling::div [
                      
                        . = '${
                        
                          language
                          
                            .panels
                            
                            .paymentMethodNew
                            
                            .cardDetails
                            
                          }'
                          
                        ]
                        
                      ]
                      
                    `,
                    
                    firstNameElement
                    
                    )
                    
                    .snapshotItem ( 0 ),
                    
                isOrderKeyElement = !! orderKeyElement,
                
                isPanelContentElement
                
                  =
                  
                  element
                  
                  ===
                  
                  panelContentElement
                  
                  &&
                  
                  element
                  
                    .children
                    
                    .length,
                    
                isPaymentMethodKeyElement
                
                  =
                  
                  !!
                  
                  paymentMethodKeyElement,
                  
                isPaymentMethodNewKeyElement
                
                  =
                  
                  !!
                  
                  paymentMethodNewKeyElement;
                  
              if ( flDebug ) {
              
                console.log ( 'addressKeyElement : ', addressKeyElement );
                
                console.log ( 'addressNewKeyElement : ', addressNewKeyElement );
                
                console.log ( 'firstNameElement : ', firstNameElement );
                
                console.log (
                
                  'firstPanelWrapperElement : ',
                  
                  firstPanelWrapperElement
                  
                  );
                  
                console.log ( 'orderKeyElement : ', orderKeyElement );
                
                console.log ( 'panelContentElement : ', panelContentElement );
                
                console.log (
                
                  'paymentMethodKeyElement : ',
                  
                  paymentMethodKeyElement
                  
                  );
                  
                console.log (
                
                  'paymentMethodNewKeyElement : ',
                  
                  paymentMethodNewKeyElement
                  
                  );
                  
                console.log ( 'isAddressKeyElement : ', isAddressKeyElement );
                
                console.log (
                
                  'isAddressNewKeyElement : ',
                  
                  isAddressNewKeyElement
                  
                  );
                  
                console.log (
                
                  'isFirstPanelWrapperElement : ',
                  
                  isFirstPanelWrapperElement
                  
                  );
                  
                console.log ( 'isOrderKeyElement : ', isOrderKeyElement );
                
                console.log (
                
                  'isPanelContentElement : ',
                  
                  isPanelContentElement
                  
                  );
                  
                console.log (
                
                  'isPaymentMethodKeyElement : ',
                  
                  isPaymentMethodKeyElement
                  
                  );
                  
                console.log (
                
                  'isPaymentMethodNewKeyElement : ',
                  
                  isPaymentMethodNewKeyElement
                  
                  );
                  
                }
                
              const isContinue = [
              
                isAddressKeyElement,
                
                isAddressNewKeyElement,
                
                isFirstPanelWrapperElement,
                
                isOrderKeyElement,
                
                isPanelContentElement,
                
                isPaymentMethodKeyElement,
                
                isPaymentMethodNewKeyElement
                
                ]
                
                .every ( v => ! v );
                
              if ( flDebug )
              
                console.log ( 'isContinue : ', isContinue );
                
              if ( isContinue ) return; // continue
              
              if ( flDebug ) {
              
                const isPanel
                
                  =
                  
                  (
                  
                    isFirstPanelWrapperElement
                    
                    ||
                    
                    isPanelContentElement
                    
                    )
                    
                  &&
                  
                  [
                  
                    isAddressKeyElement,
                    
                    isAddressNewKeyElement,
                    
                    isPaymentMethodKeyElement,
                    
                    isPaymentMethodNewKeyElement
                    
                    ]
                    
                    .every ( v => ! v );
                    
                console.log ( 'isPanel : ', isPanel );
                
                }
                
              switch ( true ) {
              
                case isAddressKeyElement :
                
                  element = addressKeyElement
                  
                    .closest ( 'form' )
                    
                    .parentElement;
                  
                  userProfilePageRootElement
                  
                    .setAttribute (
                    
                      dataPanelTypeAttributeName,
                      
                      language
                      
                        .panels
                        
                        .address
                        
                        .panelType
                        
                      );
                      
                  break;
                  
                case isAddressNewKeyElement :
                
                  element = addressNewKeyElement
                  
                    .closest ( 'form' )
                    
                    .parentElement;
                  
                  userProfilePageRootElement
                  
                    .setAttribute (
                    
                      dataPanelTypeAttributeName,
                      
                      language
                      
                        .panels
                        
                        .addressNew
                        
                        .panelType
                        
                      );
                      
                  break;
                  
                case isFirstPanelWrapperElement :
                
                  element = firstPanelWrapperElement
                  
                    .querySelector ( '.CSSTG-child' );
                    
                  break;
                  
                case isOrderKeyElement :
                
                  element = orderKeyElement
                  
                    .closest ( '.CSSTG-group' )
                    
                    .firstChild;
                    
                  userProfilePageRootElement
                  
                    .setAttribute (
                    
                      dataPanelTypeAttributeName,
                      
                      language
                      
                        .panels
                        
                        .order
                        
                        .panelType
                        
                      );
                      
                  break;
                  
                case isPaymentMethodKeyElement :
                
                  element = paymentMethodKeyElement
                  
                    .closest ( '.CSSTG-child' );
                    
                  userProfilePageRootElement
                  
                    .setAttribute (
                    
                      dataPanelTypeAttributeName,
                      
                      language
                      
                        .panels
                        
                        .paymentMethod
                        
                        .panelType
                        
                      );
                      
                  break;
                  
                case isPaymentMethodNewKeyElement :
                
                  element = paymentMethodNewKeyElement
                  
                    .closest ( 'form' )
                    
                    .parentElement;
                    
                  userProfilePageRootElement
                  
                    .setAttribute (
                    
                      dataPanelTypeAttributeName,
                      
                      language
                      
                        .panels
                        
                        .paymentMethodNew
                        
                        .panelType
                        
                      );
                      
                  break;
                  
                }
                
              if ( flDebug ) {
              
                console.log ( 'element : ', element );
                
                console.log ( 'end mutation' );
                
                }
                
              processPanel ( element );
              
              }; // end callback
              
            mutations.forEach ( callback );
            
            },
            
          rootConfig = {
          
            childList : true,
            
            subtree : true
            
            },
            
          rootObserver = new MutationObserver ( rootCallback ),
          
          xPathEvaluate = ( xPathExpression, contextNode ) => {
          
            const xPathResults = document
            
              .evaluate (
              
                xPathExpression,
                
                contextNode,
                
                null,
                
                XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,
                
                null
                
                );
                
            return xPathResults;
            
            };
            
        let
        
          dcmnt,
          
          userProfilePageRootElement;
          
        selector = `#${ accountFrameIdValue }`;
        
        element = document
        
          .body
          
          .querySelector ( selector );
          
        /*
        
          if the account frame is already on the DOM, load. watch for it to
          appear on DOM and load
          
          */
          
        if ( element !== null )
        
          load ( element );
          
        // start listening for changes in specified element
        
        bodyObserver.observe ( document.body, bodyConfig );
        
        };
        
      document
      
        .addEventListener ( 'DOMContentLoaded', callback );
        
      } ) ( );
      
    </script>
    
  <!-- end TWC Customer Account Panel Change -->
